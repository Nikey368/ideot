<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">

  <link href="../css/style.css" rel="stylesheet" type="text/css" media="all">

  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&family=Dosis&family=Urbanist&display=swap" rel="stylesheet">
</head>
<body class="tools">
  <div id="page-container">
    <div id="content-wrap" style="text-align: center; font-family: 'Dosis', sans-serif;">
      <header>
        <h1 class="title">ideot</h1>
      </header>
      <nav>
        <ul class="topnav" style="font-family: 'Dosis', sans-serif;">
          <li><a href="../index.html"><b>home</b></a></li>
          <li><a href="../news.html"><b>news</b></a></li>
          <li><a href="../about.html"><b>about</b></a></li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropbtn">fun</a>
            <div class="dropdown-content">
              <a href="#">nofunforyou</a>
            </div>
          </li>
          <li class="dropdown2">
            <a href="javascript:void(0)" class="dropbtn2">tools</a>
            <div class="dropdown-content2">
              <a class="active" href="../tools/fe2diffcalc.html">fe2 difficulty calculator</a>
              <a href="../tools/primecalc.html">prime checker</a>
            </div>
          </li>
          <li class="right"><a href="../comics/home.html"><b>comics</b></a></li>
        </ul>
      </nav>
      
      <!-- ACTUAL WEBSITE -->

      <h1>python password game</h1>
      <p>just a test so far</p>

      <py-config>
        packages = ["nltk","wordfreq","tqdm","setuptools","english_words"]
      </py-config>

      <py-script>
        import math
        import time
        import random
        import nltk
        from tqdm import tqdm
        from wordfreq import zipf_frequency
        from nltk.corpus import wordnet
        nltk.download('wordnet')
        from english_words import get_english_words_set
        lines = get_english_words_set(['web2'], lower=True)
        fundamental = []
        effortless = []
        easy = []
        normal = []
        hard = []
        insane = []
        crazy = []
        outrageous = []
        difficulties = {
            8: [fundamental,"Fundamental",],
            7: fundamental,
            6: effortless,
            5: easy,
            4: normal,
            3: hard,
            2: insane,
            1: crazy,
            0: outrageous
        }
        difficultyNames = {
            8: "Fundamental",
            7: "Fundamental",
            6: "Effortless",
            5: "Easy",
            4: "Normal",
            3: "Hard",
            2: "Insane",
            1: "Crazy",
            0: "Outrageous"
        }

        def restrict(val, minval, maxval):
            if val < minval: return minval
            if val > maxval: return maxval
            return val

        def checkVowelCount(word):
            vowels = 0
            for letter in word:
                if letter in ["a","e","i","o","u"]:
                    vowels += 1
            return vowels
      
        def synonym_extractor(phrase):
            synonyms = []

            for syn in wordnet.synsets(phrase):
                  for l in syn.lemmas():
                      synonyms.append(l.name())

            return synonyms
        
        

        startTime = time.time()
        for i in tqdm(range(len(lines)-1)):
            word = lines[i]
            diffi = zipf_frequency(word,"en")
            diffiword = difficulties[math.floor(diffi)]
            diffiword.insert(0,word)
            
        print("finished in "+str(time.time() - startTime))

        difficulty = 5

        while True:
            print(difficultyNames)
            difficulty = input("Difficulty? ")
            try:
                difficulty = float(difficulty)
            except:
                print("numbers only")
                continue
            restrict(difficulty,0,7)
            break
        startingTime = time.time()
        while True:
            randomWord = random.choice(difficulties[math.floor(difficulty)])
            
            if len(randomWord) >= 3 and len(randomWord) <= 16:
                worddiffi = zipf_frequency(randomWord,"en")
                if worddiffi >= difficulty and worddiffi < difficulty + 1:
                  break
        print("found word at difficulty: "+str(worddiffi)+" in "+str(time.time()-startingTime)+" seconds")
        guesses = 0
        price = 1
        startingTime = time.time()
        endgame = False
        cluelist = {"Password":"Unknown","Letters":"?","Vowels":"?","First Letter":"?","Last Letter":"?","Synonyms":[]}
        print('Type "LISTCONTROLS" for the controls.')
        while True:
            guess = input("What is your guess? ")
            if guess == "LISTCONTROLS":
                print("SHOWCLUES: Show all clues you have. Uses no guesses.")
                print("GETHINT: Gets a hint. Hints use more than one guess")
                print("GIVEUP: Resigns.")
                continue
            elif guess == "SHOWCLUES":
                print(cluelist)
                continue
            elif guess == "GETHINT":
                print("Password Length (type 'Letters'): "+str(round((8-difficulty+5)*price))+" guesses")
                print("Amount of Vowels (type 'Vowels'): "+str(round((8-difficulty+4)*price))+" guesses")
                print("First Letter (type 'First Letter'): "+str(round((8-difficulty+6)*price))+" guesses")
                print("Last Letter (type 'Last Letter'): "+str(round((8-difficulty+5.5)*price))+" guesses")
                print("Related Word (type 'Synonyms'): "+str(round(((10-difficulty)*2)*price))+" guesses")
                hint = input("What kind of hint do you need?")
                if hint == "Letters":
                    guesses += round((8-difficulty+5)*price,0)
                    print("Password length is "+str(len(randomWord))+" letters")
                    cluelist["Letters"] = str(len(randomWord))
                    cluelist["Password"] = "*"*len(randomWord)
                    price *= 1.5
                    if cluelist["First Letter"] != "?":
                        cluelist["Password"] = cluelist["First Letter"] + cluelist["Password"][1:]
                    if cluelist["Last Letter"] != "?":
                        cluelist["Password"] = cluelist["Password"][:-1] + cluelist["Last Letter"]
                elif hint == "Vowels":
                    guesses += round((8-difficulty+4)*price,0)
                    print("Not counting y, there are "+str(checkVowelCount(randomWord))+" vowels")
                    cluelist["Vowels"] = checkVowelCount(randomWord)
                    price *= 1.25
                elif hint == "First Letter":
                    guesses += round((8-difficulty+6),0)
                    print("The first letter of the password is "+randomWord[0])
                    cluelist["First Letter"] = randomWord[0]
                    price *= 2.5
                    if cluelist["Password"] != "Unknown":
                        cluelist["Password"] = cluelist["First Letter"] + cluelist["Password"][1:]
                elif hint == "Last Letter":
                    guesses += round((8-difficulty+5.5),0)
                    print("The last letter of the password is "+randomWord[-1])
                    cluelist["Last Letter"] = randomWord[-1]
                    price *= 2.25
                    if cluelist["Password"] != "Unknown":
                        cluelist["Password"] = cluelist["Password"][:-1] + cluelist["Last Letter"]
                elif hint == "Synonyms":
                    listofsynonyms = synonym_extractor(randomWord)
                    if len(listofsynonyms) == 0:
                        print("No synonyms found. No guess taken.")
                    generatedhint = ""
                    for checkword in listofsynonyms:
                        if checkword in cluelist["Synonyms"]:
                            continue
                        if checkword in randomWord:
                            continue
                        if randomWord in checkword:
                            continue
                        generatedhint = checkword
                    if generatedhint == "":
                        print("No more synonyms left. No guess taken.")
                    else:
                        guesses += round(((10-difficulty)*2)*price,0)
                        print('Hint: "'+generatedhint+'"')
                        cluelist["Synonyms"].insert(0,generatedhint)
                        price *= 2.75
                else:
                    print("Could not understand, guess not taken")
                continue
            elif guess == "GIVEUP":
                print("Mission failed!")
                print("Took "+str(round(time.time()-startingTime,3))+" seconds!")
                print("It took you "+str(guesses)+" guesses to give up!")
                input("The word was: "+randomWord)
            guesses += 1
            if guess == randomWord:
                print("Password cracked!")
                print("Took "+str(round(time.time()-startingTime,3))+" seconds!")
                input("You won in "+str(guesses)+" guesses!")
                break
            else:
                if len(guess) < 3:
                    continue
                if cluelist["Letters"] == "?" and len(guess) == len(randomWord):
                    print("Correct password length ("+str(len(guess))+" letters)")
                    cluelist["Letters"] = str(len(guess))
                    cluelist["Password"] = "*"*len(randomWord)
                    if cluelist["First Letter"] != "?":
                        cluelist["Password"] = cluelist["First Letter"] + cluelist["Password"][1:]
                    if cluelist["Last Letter"] != "?":
                        cluelist["Password"] = cluelist["Password"][:-1] + cluelist["Last Letter"]
                if cluelist["Vowels"] == "?" and checkVowelCount(guess) == checkVowelCount(randomWord):
                    print("Same amount of vowels (y is not counted, "+str(checkVowelCount(guess))+" vowels)")
                    cluelist["Vowels"] = checkVowelCount(guess)
                if cluelist["First Letter"] == "?" and guess[0] == randomWord[0]:
                    print("Correct first letter ("+guess[0]+")")
                    cluelist["First Letter"] = guess[0]
                    if cluelist["Password"] != "Unknown":
                        cluelist["Password"] = cluelist["First Letter"] + cluelist["Password"][1:]
                if cluelist["Last Letter"] == "?" and guess[-1] == randomWord[-1]:
                    print("Correct last letter ("+guess[-1]+")")
                    cluelist["Last Letter"] = guess[-1]
                    if cluelist["Password"] != "Unknown":
                        cluelist["Password"] = cluelist["Password"][:-1] + cluelist["Last Letter"]
                if guess in synonym_extractor(randomWord):
                    print('"'+guess+'" is a synonym!')
                    cluelist["Synonyms"].insert(0,guess)
                if endgame and len(guess) == len(randomWord):
                    for i,v in enumerate(guess):
                        if v == randomWord[i]:
                            if cluelist["Password"][i] == "*":
                                cluelist["Password"] = cluelist["Password"][0:i] + v + cluelist["Password"][i+1: ]
                                print("Letter in position "+str(i+1)+" is "+v+" ("+cluelist["Password"]+")")
                if endgame == False and cluelist["Letters"] != "?" and cluelist["Vowels"] != "?" and cluelist["First Letter"] != "?" and cluelist["Last Letter"] != "?":
                    endgame = True
                    print("You're in the endgame now. From now on, if your guess has a letter in the correct position, it will be revealed")

      </py-script>

      
      

      <!-- ACTUAL WEBSITE -->

      </div>
      <footer>
        <p>here's the footer where i'm supposed to put copyright.
        <br>however, i'm dumb and therefore do not know how to set up copyright. let's just pretend that i did set up a copyright. ideot 2023.
        <br><strong>this part of the website is made by me, ideot. you're welcome</strong></p>
      </footer>
    </div>
  </div>
  <script src="../js/fe2diffcalc.js" defer></script>
</body>
</html>


