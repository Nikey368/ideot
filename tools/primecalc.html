<!DOCTYPE html>
<html>
<head>
  <link href="../css/style.css" rel="stylesheet" type="text/css" media="all">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&family=Dosis&family=Urbanist&display=swap" rel="stylesheet">
</head>
<body class="tools" id="body">
  <div id="page-container">
    <div id="content-wrap" style="text-align: center; font-family: 'Dosis', sans-serif;">
      <header>
        <h1 class="title">ideot</h1>
      </header>
      
      <!-- NAVBAR -->

      <nav>
        <ul class="topnav" style="font-family: 'Dosis', sans-serif;">
          <li><a href="../index.html"><b>home</b></a></li>
          <li><a href="../news.html"><b>news</b></a></li>
          <li><a href="../about.html"><b>about</b></a></li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropbtn">fun</a>
            <div class="dropdown-content">
              <a href="../fun/pigame.html">pi game</a>
              <a href="../fun/amialive.html">the "am i alive test"</a>
              <a href="../fun/timers.html">timers and countdowns</a>
            </div>
          </li>
          <li class="dropdown2">
            <a href="javascript:void(0)" class="dropbtn2">tools</a>
            <div class="dropdown-content2">
              <a href="../tools/fe2diffcalc.html">fe2 difficulty calculator</a>
              <a class="active" href="../tools/primecalc.html">prime checker</a>
              <a href="../tools/audiochanneltest.html">audio channel tester</a>
            </div>
          </li>
          <li class="right"><a href="../comics/home.html"><b>comics</b></a></li>
        </ul>
      </nav>

      <!-- NAVBAR -->
      
      <!-- ACTUAL WEBSITE -->

      <h1>prime checker</h1>
      <p>an old archaic prime checker written in javascript. most likely horribly inefficient. have fun.</p>
      
      <div class="calculator">
        <h2>Prime Checker</h2>

        <p>Check to see if a number is a prime number!</p>
        <p>Please do note that some big prime numbers takes a long time and <br> alot of computing power to check.<br><em><strong>Do not exit</em></strong> the page at this stage</p>
        <form>
        <label for="prime">Check for prime number:</label>
        <input type="number" id="prime">
        <input type="button" onclick="myFunction()" value="Check">
        <input type="reset" value="Clear">
        <input type="button" onclick="myFunction2()" value="Check if left number is prime">
        <br>
        <input type="button" onclick="randomNum()" value="Random Number">
        </form>

        <p id="text"></p>
        <p id="timesby"></p>

        <script>
        document.getElementById("prime").value = Math.floor(Math.random() * 1000) + 1;
        </script>


        <script>
        function sqrt(value) {
            if (value < 0n) {
                throw 'square root of negative numbers is not supported'
            }

            if (value < 2n) {
                return value;
            }

            function newtonIteration(n, x0) {
                const x1 = ((n / x0) + x0) >> 1n;
                if (x0 === x1 || x0 === (x1 - 1n)) {
                    return x0;
                }
                return newtonIteration(n, x1);
            }

            return newtonIteration(value, 1n);
        }
        var leftPrime;
        function myFunction(){
          document.getElementById("body").classList.remove("tools");
          document.getElementById("body").classList.add("empty");
          let x = BigInt(document.getElementById("prime").value);
            let prime = true;
          let badnumber = 0;
          let timesby = 0;
          array = [];
            let xsqrt = sqrt(x);
            for (let i = 2n; i < xsqrt - 1n; i++) {
              if(x % i == 0) {
              prime = false;
              timesby = i;
              badnumber = x / i;
              leftPrime = badnumber;
                    break;
                } else {
                  continue;
                }
            }
          if(x == 1) {
            prime = false;
          }
            if(prime) {
              document.getElementById("text").innerHTML = x + " is a prime number";
            document.getElementById("timesby").innerHTML = "";
            }
            else {
                array.push(badnumber);
              document.getElementById("text").innerHTML = x + " is not a prime number";
            if(x != 1) {
              document.getElementById("timesby").innerHTML = 
              badnumber + " * " + timesby + " = " + x;
            } else {
              let text = document.getElementById("timesby").innerHTML
              for (let i = 0; i < array.length; i++) {
                text += array[i] + " * ";
              }
              text += " = " + x;
              if(x == 1) {
                document.getElementById("timesby").innerHTML = "1 is the only exception as it isn't a prime or a composite";
              }
            }
            }
          document.getElementById("body").classList.remove("empty");
          document.getElementById("body").classList.add("tools");
        }
        function myFunction2(){
          document.getElementById("body").classList.remove("tools");
          document.getElementById("body").classList.add("empty");
          let x = BigInt(leftPrime);
            let prime = true;
          let badnumber = 0;
          let timesby = 0;
          array = [];
          let xsqrt = sqrt(x);
            for (let i = 2n; i < xsqrt - 1n; i++) {
              if(x % i == 0) {
              prime = false;
              timesby = i;
              badnumber = x / i;
              leftPrime = badnumber;
                    break;
                } else {
                  continue;
                }
            }
          if(x == 1) {
            prime = false;
          }
            if(prime) {
              document.getElementById("text").innerHTML = x + " is a prime number";
            document.getElementById("timesby").innerHTML = "";
            }
            else {
                array.push(badnumber)
              document.getElementById("text").innerHTML = x + " is not a prime number";
            if(x != 1) {
              document.getElementById("timesby").innerHTML = 
              badnumber + " * " + timesby + " = " + x;
            } else {
              let text = document.getElementById("timesby").innerHTML
              for (let i = 0; i < array.length; i++) {
                text += array[i] + " * ";
              }
              text += " = " + x;
              if(x == 1) {
                document.getElementById("timesby").innerHTML = "1 is the only exception as it isn't a prime or a composite";
              }
            }
            }
          document.getElementById("body").classList.remove("empty");
          document.getElementById("body").classList.add("tools");
        }
        myFunction()
        </script>

        <script>
          function randomNum() {
            document.getElementById("prime").value = Math.floor(Math.random() * 1000000) + 1;
            myFunction()
          }
        </script>
      </div>
    </div>
    <footer>
      <p>here's the footer where i'm supposed to put copyright.
      <br>however, i'm dumb and therefore do not know how to set up copyright. let's just pretend that i did set up a copyright. ideot 2023.
      <br><strong>this part of the website is made by me, ideot. you're welcome</strong></p>
    </footer>
  </div>
  <script src="../js/fe2diffcalc.js" defer></script>
</body>
</html>


